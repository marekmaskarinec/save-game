import (
        "window.um"; "rect.um"
        "../../tophat.dat/d_ui.um"; "../../tophat.dat/d_font.um"
)

fn main() {
        window.setup("Ahoy", 640, 480)
        screen := rect.Rect{0, 0, 640, 480}
        d_ui.init(d_font.loadFont("data/font_mono.ttf", 16))

        for (window.cycle(screen)) {
                screen.w = window.w
                screen.h = window.h

                d_ui.begin()
                
                d_ui.setJoinWindows(true)
                d_ui.beginWindow("Screwdriver", rect.Rect{80, 80, 200, 300})
                d_ui.beginWindow("Saw", rect.Rect{40, 40, 200, 300})
                d_ui.setJoinWindows(false)

                d_ui.setJoinWindows(true)
                d_ui.beginWindow("Drill", rect.Rect{120, 40, 300, 300})
                d_ui.beginWindow("Shovel", rect.Rect{160, 80, 200, 350})
                d_ui.setJoinWindows(false)

                d_ui.setJoinWindows(true)
                d_ui.beginWindow("Screw", rect.Rect{160, 40, 250, 350})
                d_ui.beginWindow("Nail", rect.Rect{160, 80, 230, 350})
                d_ui.setJoinWindows(false)

                d_ui.end()
        }
}
